% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/d3_brush.R
\name{d3_brush}
\alias{d3_brush}
\title{Add brush selection to gg2d3 widget}
\usage{
d3_brush(
  widget,
  direction = c("xy", "x", "y"),
  on_brush = NULL,
  fill = "#3b82f6",
  opacity = 0.15
)
}
\arguments{
\item{widget}{A gg2d3 widget object created by \code{gg2d3()}}

\item{direction}{Character string specifying brush direction.
One of:
\itemize{
\item \code{"xy"} (default): Two-dimensional rectangular brush
\item \code{"x"}: Horizontal band selection (x-axis only)
\item \code{"y"}: Vertical band selection (y-axis only)
}}

\item{on_brush}{Optional JavaScript callback as string. Receives selected
data as array. Function signature: \code{function(selectedData) { ... }}}

\item{fill}{Brush overlay fill color. Default is \code{"#3b82f6"} (light blue).}

\item{opacity}{Numeric opacity value (0-1) for non-selected elements.
Default is 0.15 (heavily dimmed). Selected elements always have opacity 1.0.}
}
\value{
Modified gg2d3 widget with brush selection enabled.
Returns the widget to enable pipe chaining.
}
\description{
Enables rectangular brush selection for a gg2d3 widget. Click and drag to
create a selection rectangle; data points inside the selection are highlighted
while points outside are dimmed. Double-click to clear the selection.
}
\examples{
\dontrun{
library(ggplot2)
p <- ggplot(mtcars, aes(mpg, wt)) + geom_point()

# Basic brush selection
gg2d3(p) |> d3_brush()

# Horizontal brush only
gg2d3(p) |> d3_brush(direction = "x")

# Custom styling
gg2d3(p) |> d3_brush(fill = "#ff0000", opacity = 0.3)

# Combine with tooltips
gg2d3(p) |> d3_tooltip() |> d3_brush()
}

}
